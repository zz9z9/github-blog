<feed xmlns="http://www.w3.org/2005/Atom"> <id>https://zz9z9.github.io/</id><title>zz9z9</title><subtitle>A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation.</subtitle> <updated>2025-02-02T01:47:21+09:00</updated> <author> <name>Lee JaeYoon</name> <uri>https://zz9z9.github.io/</uri> </author><link rel="self" type="application/atom+xml" href="https://zz9z9.github.io/feed.xml"/><link rel="alternate" type="text/html" hreflang="en-US" href="https://zz9z9.github.io/"/> <generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator> <rights> © 2025 Lee JaeYoon </rights> <icon>/assets/img/favicons/favicon.ico</icon> <logo>/assets/img/favicons/favicon-96x96.png</logo> <entry><title>API 호출시 타임아웃이 발생하면 ? (caller 관점에서)</title><link href="https://zz9z9.github.io/posts/response-timeout(caller)/" rel="alternate" type="text/html" title="API 호출시 타임아웃이 발생하면 ? (caller 관점에서)" /><published>2025-01-25T00:29:00+09:00</published> <updated>2025-01-25T00:29:00+09:00</updated> <id>https://zz9z9.github.io/posts/response-timeout(caller)/</id> <content src="https://zz9z9.github.io/posts/response-timeout(caller)/" /> <author> <name>Lee JaeYoon</name> </author> <category term="생각해보기" /> <category term="what-if" /> <summary> 상황 가정 사용자 요청을 처리할 때 외부 API 호출이 필요하고, 해당 API(api/foo) 호출에 대해 타임아웃이 발생 (client ---&amp;gt; 내 서버 ---X 외부 서버) 생각해볼 수 있는 다양한 타임아웃 상황 외부 서버에서 api/foo에 대한 처리가 늦어짐 api/foo 요청이 외부 서버에 늦게 도착 api/foo에 대한 응답이 내 서버에 도착하지 않거나 늦게 도착함 기타 등등… 가장 심플한 케이스 api/foo에 대한 응답 없이 사용자 요청 처리가 가능한 경우 특정 데이터는 빈 상태로 조회 응답 내려줄 수 있는 상황 또는, 정책적으로 협의가 되어서 api/foo에 대한 재시도가 필요하지 않은... </summary> </entry> <entry><title>DB 롤체인지 후 애플리케이션 헬스체크가 정상적으로 되지 않은 이슈 (feat. DB 커넥션 풀)</title><link href="https://zz9z9.github.io/posts/after-db-role-change-issue/" rel="alternate" type="text/html" title="DB 롤체인지 후 애플리케이션 헬스체크가 정상적으로 되지 않은 이슈 (feat. DB 커넥션 풀)" /><published>2024-10-14T22:25:00+09:00</published> <updated>2024-11-21T23:40:36+09:00</updated> <id>https://zz9z9.github.io/posts/after-db-role-change-issue/</id> <content src="https://zz9z9.github.io/posts/after-db-role-change-issue/" /> <author> <name>Lee JaeYoon</name> </author> <category term="경험하기" /> <category term="이슈 노트" /> <summary> 상황 L4/L7 스위치 --- WEB --- WAS(애플리케이션)로 구성된 환경에서 2~3초 간격으로 L4/L7 스위치에서 헬스체크 신호를 보냄 애플리케이션은 헬스체크를 위해 DB에 SELECT 1 질의하게 되어있음 인프라팀 작업 이슈로 마스터 DB 서버 메모리 점유율이 너무 높아져 DB가 롤체인지 됨(약 12초 정도 소요) 롤체인지 되었는데도 애플리케이션 헬스체크는 down 상태 (DB 연결이 계속 안됨) 애플리케이션 재시작하니까 다시 정상 동작 이후에 DBA가 롤체인지 했을때 약 2초 정도 소요되었고, 헬스체크 잠깐 down 되었다가 다시 잘 올라옴 “왜 롤체인지에 12초가 걸렸을 때는 DB가 정상화되었는데도 연결이 안됐고, 2초가 걸렸을 때는 다시 연결이 잘 됐을까 ?”... </summary> </entry> <entry><title>MySQL에서 4bytes 이모지가 물음표로 저장되는 이슈</title><link href="https://zz9z9.github.io/posts/4bytes-emoji-to-question-marks/" rel="alternate" type="text/html" title="MySQL에서 4bytes 이모지가 물음표로 저장되는 이슈" /><published>2024-06-04T22:25:00+09:00</published> <updated>2024-11-21T22:53:17+09:00</updated> <id>https://zz9z9.github.io/posts/4bytes-emoji-to-question-marks/</id> <content src="https://zz9z9.github.io/posts/4bytes-emoji-to-question-marks/" /> <author> <name>Lee JaeYoon</name> </author> <category term="경험하기" /> <category term="이슈 노트" /> <summary> 상황 MySQL DB에 🎃이모지 저장시 ‘????’로 저장되었고, connection properties(jdbc url에 쿼리 스트링으로 붙는 값들)를 변경해가며 테스트 해 본 결과는 다음과 같았다. connection properties 현상 mysql-connector-j 버전 mysql 버전 characterEncoding=UTF-8 이모지 저장 안됨 (에러 발생) 5.1.12 8.0.35 characterEncoding=UTF-8&amp;amp;connectionCollation=utf8mb4_bin 이모지가 ????로 저... </summary> </entry> <entry><title>프록시를 통해 API 호출할 때 지연되는 이슈</title><link href="https://zz9z9.github.io/posts/api-call-through-proxy-issue/" rel="alternate" type="text/html" title="프록시를 통해 API 호출할 때 지연되는 이슈" /><published>2024-01-11T22:25:00+09:00</published> <updated>2024-11-21T22:48:46+09:00</updated> <id>https://zz9z9.github.io/posts/api-call-through-proxy-issue/</id> <content src="https://zz9z9.github.io/posts/api-call-through-proxy-issue/" /> <author> <name>Lee JaeYoon</name> </author> <category term="경험하기" /> <category term="이슈 노트" /> <summary> 상황 프록시 서버를 통해 API를 호출할 때 응답이 지연되는 케이스가 있었고, tcpdump를 통해 확인해본 결과 프록시 서버에 요청을 했다가 응답이 없으니 직접 요청 서버로 접근하는 것을 확인할 수 있었다. 프록시 서버에서 응답을 못 받은 이유는 네트워크 ACL 신청이 누락되어서였으며 ACL 등록 이후 해당 현상은 나타나지 않았다. 의문점 아래 코드로 로컬에서 재현해봤을때 자바 버전에 따라 결과가 다른 것을 알게되었다. java.net.ConnectException: Connection timed out: connect 발생 (jdk 버전 : jdk8u362-b09) 이슈 상황처럼 지연 응답옴 (jdk 버전 : openjdk 1.8.0-242) ... </summary> </entry> <entry><title>MyBatis-Spring 트랜잭션 관리</title><link href="https://zz9z9.github.io/posts/how-mybatis-spring-transaction-works/" rel="alternate" type="text/html" title="MyBatis-Spring 트랜잭션 관리" /><published>2024-01-02T22:25:00+09:00</published> <updated>2024-11-11T00:22:35+09:00</updated> <id>https://zz9z9.github.io/posts/how-mybatis-spring-transaction-works/</id> <content src="https://zz9z9.github.io/posts/how-mybatis-spring-transaction-works/" /> <author> <name>Lee JaeYoon</name> </author> <category term="지식 더하기" /> <category term="들여다보기" /> <summary> 해당 포스팅에서 mybatis, mybatis-spring 사용법을 간단히 살펴보았다. 이번에는 개인적으로 가장 궁금했던 mybatis-spring에서 트랜잭션을 다루는 부분이 내부적으로 어떻게 동작하는지 살펴보려고 한다. (예제 코드는 훑어보기 편에서 사용된 코드) 들어가기 전 : 예제 코드 다시 살펴보기 SqlSession의 구현체로 SqlSessionTemplate 주입해서 사용하는 경우, sqlSession.insert 호출하면 auto-commit됨 public class MybatisSpringMemberQueryServiceImpl implements MemberQueryService { private final SqlSession sqlSession; p... </summary> </entry> </feed>
